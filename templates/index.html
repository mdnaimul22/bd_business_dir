{% extends 'base.html' %}

{% block title %}‡¶π‡ßã‡¶Æ - ‡¶¨‡¶æ‡¶Ç‡¶≤‡¶æ‡¶¶‡ßá‡¶∂ ‡¶á‡¶û‡ßç‡¶ú‡¶ø‡¶®‡¶ø‡¶Ø‡¶º‡¶æ‡¶∞‡¶ø‡¶Ç ‡¶ì‡¶Ø‡¶º‡¶æ‡¶∞‡ßç‡¶ï‡¶∂‡¶™{% endblock %}

{% block content %}
<section class="hero">
    <h1>{{ _('Hardware & Mechanical Supplier Directory') }}</h1>
    <p class="hero-subtitle">{{ _('Information of Engineering Workshops, Suppliers and Sellers') }}</p>

    <form class="search-form" action="{{ url_for('index') }}" method="GET">
        <div class="search-box">
            <input type="text" name="q" value="{{ query }}"
                placeholder="{{ _('Search by product, category, mobile number or shop name...') }}" class="search-input"
                id="searchInput">
            <button type="submit" class="search-btn">
                üîç {{ _('Search') }}
            </button>
        </div>
    </form>

    <!-- Search Results (Only show if searching) -->
    {% if query %}
    <div class="search-results-header" style="margin-top: 2rem; margin-bottom: 1rem; text-align: left;">
        <h2>üîç {{ _('Search Results') }}: "{{ query }}"</h2>
    </div>

    {% if shops %}
    <div class="shops-grid" style="text-align: left;">
        {% for shop in shops %}
        <div class="shop-card">
            <div class="shop-header">
                <span class="shop-name"><a href="{{ url_for('shop_detail', shop_id=shop.id) }}">{{ shop.name
                        }}</a></span>
                <span class="shop-category">{{ shop.category_name }}</span>
            </div>

            <div class="shop-info">
                {% if shop.proprietor %}
                <p><strong>{{ _('Owner') }}:</strong> {{ shop.proprietor }}</p>
                {% endif %}

                {% if shop.mobile %}
                <p><strong>{{ _('Mobile') }}:</strong> {{ shop.mobile }}</p>
                {% endif %}
            </div>


        </div>
        {% endfor %}
    </div>
    {% else %}
    <div class="no-results">
        <p>{{ _('No shops found.') }}</p>
    </div>
    {% endif %}

    <div style="margin-top: 2rem;">
        <a href="{{ url_for('index') }}" class="btn btn-secondary">{{ _('Clear') }}</a>
    </div>
    {% endif %}
</section>
{% endblock %}