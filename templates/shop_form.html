{% extends 'base.html' %}

{% block title %}{% if action == 'add' %}{{ _('Add New Shop') }}{% else %}{{ _('Edit Shop') }}{% endif %} - {{
_('Bangladesh Engineering Workshop') }}{% endblock %}

{% block content %}
<section class="shop-form-section">
    <h1>
        {% if action == 'add' %}
        â• {{ _('Add New Shop') }}
        {% else %}
        âœï¸ {{ _('Edit Shop') }}
        {% endif %}
    </h1>

    <form method="POST" class="shop-form">
        <div class="form-grid">
            <div class="form-group full-width">
                <label for="category_id">ğŸ“‚ {{ _('Category') }}</label>
                <div class="category-input-group">
                    <select name="category_id" id="category_id" class="form-control">
                        <option value="">-- {{ _('Select Category') }} --</option>
                        {% for cat in categories %}
                        <option value="{{ cat.id }}" {% if shop.category_id==cat.id %}selected{% endif %}>
                            {{ cat.name }} ({{ cat.name_english }})
                        </option>
                        {% endfor %}
                        <option value="new">+ {{ _('Add New Category') }}</option>
                    </select>
                    <input type="text" name="new_category_name" id="new_category_name" class="form-control"
                        placeholder="{{ _('Enter new category name') }}" style="display: none;">
                </div>
            </div>

            <!-- Serial No removed as per request -->

            <div class="form-group full-width">
                <label for="name">ğŸª {{ _('Shop Name') }} <span class="required">*</span></label>
                <input type="text" name="name" id="name" class="form-control" required value="{{ shop.name or '' }}"
                    placeholder="{{ _('Enter shop name') }}">
            </div>

            <div class="form-group">
                <label for="proprietor">ğŸ‘¤ {{ _('Proprietor') }}</label>
                <input type="text" name="proprietor" id="proprietor" class="form-control"
                    value="{{ shop.proprietor or '' }}" placeholder="{{ _('Proprietor Name') }}">
            </div>

            <div class="form-group">
                <label for="address">ğŸ“ {{ _('Address') }}</label>
                <input type="text" name="address" id="address" class="form-control" value="{{ shop.address or '' }}"
                    placeholder="{{ _('Shop Address') }}">
            </div>

            <div class="form-group">
                <label for="mobile">ğŸ“± {{ _('Mobile') }}</label>
                <input type="text" name="mobile" id="mobile" class="form-control" value="{{ shop.mobile or '' }}"
                    placeholder="{{ _('e.g. 017XX-XXXXXX') }}">
            </div>

            <div class="form-group">
                <label for="whatsapp">ğŸ’¬ {{ _('WhatsApp') }}</label>
                <input type="text" name="whatsapp" id="whatsapp" class="form-control" value="{{ shop.whatsapp or '' }}"
                    placeholder="{{ _('WhatsApp Number') }}">
            </div>

            <div class="form-group">
                <label for="transaction_status">ğŸ’° {{ _('Online Transaction') }}</label>
                <input type="text" name="transaction_status" id="transaction_status" class="form-control"
                    value="{{ shop.transaction_status or '' }}" placeholder="{{ _('e.g. Bkash 018XX-XXXXXX') }}">
            </div>

            <div class="form-group">
                <label for="email_web">ğŸ“§ {{ _('Email/Web') }}</label>
                <input type="text" name="email_web" id="email_web" class="form-control"
                    value="{{ shop.email_web or '' }}" placeholder="{{ _('Email or Website') }}">
            </div>

            <div class="form-group full-width">
                <label for="products">ğŸ“¦ {{ _('Products List') }}</label>
                <textarea name="products" id="products" class="form-control" rows="4"
                    placeholder="{{ _('Products available in this shop...') }}">{{ shop.products or '' }}</textarea>
            </div>
        </div>

        <div class="form-actions">
            <button type="submit" class="btn btn-primary btn-lg">
                {% if action == 'add' %}
                â• {{ _('Add Shop') }}
                {% else %}
                ğŸ’¾ {{ _('Save') }}
                {% endif %}
            </button>
            <a href="{{ url_for('index') }}" class="btn btn-secondary">{{ _('Cancel') }}</a>
        </div>
    </form>
</section>
{% endblock %}