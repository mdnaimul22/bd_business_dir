{% extends 'base.html' %}

{% block title %}{% if action == 'add' %}ржирждрзБржи ржжрзЛржХрж╛ржи ржпрзЛржЧ ржХрж░рзБржи{% else %}ржжрзЛржХрж╛ржи рж╕ржорзНржкрж╛ржжржирж╛{% endif %} - ржмрж╛ржВрж▓рж╛ржжрзЗрж╢ ржЗржЮрзНржЬрж┐ржирж┐ржпрж╝рж╛рж░рж┐ржВ
ржУржпрж╝рж╛рж░рзНржХрж╢ржк{% endblock %}

{% block content %}
<section class="shop-form-section">
    <h1>
        {% if action == 'add' %}
        тЮХ ржирждрзБржи ржжрзЛржХрж╛ржи ржпрзЛржЧ ржХрж░рзБржи
        {% else %}
        тЬПя╕П ржжрзЛржХрж╛ржи рж╕ржорзНржкрж╛ржжржирж╛ ржХрж░рзБржи
        {% endif %}
    </h1>

    <form method="POST" class="shop-form">
        <div class="form-grid">
            <div class="form-group full-width">
                <label for="category_id">ЁЯУВ ржХрзНржпрж╛ржЯрзЗржЧрж░рж┐</label>
                <div class="category-input-group">
                    <select name="category_id" id="category_id" class="form-control">
                        <option value="">-- ржХрзНржпрж╛ржЯрзЗржЧрж░рж┐ ржирж┐рж░рзНржмрж╛ржЪржи ржХрж░рзБржи --</option>
                        {% for cat in categories %}
                        <option value="{{ cat.id }}" {% if shop.category_id==cat.id %}selected{% endif %}>
                            {{ cat.name }} ({{ cat.name_english }})
                        </option>
                        {% endfor %}
                        <option value="new">+ ржирждрзБржи ржХрзНржпрж╛ржЯрзЗржЧрж░рж┐ ржпрзЛржЧ ржХрж░рзБржи</option>
                    </select>
                    <input type="text" name="new_category_name" id="new_category_name" class="form-control"
                        placeholder="ржирждрзБржи ржХрзНржпрж╛ржЯрзЗржЧрж░рж┐рж░ ржирж╛ржо рж▓рж┐ржЦрзБржи" style="display: none;">
                </div>
            </div>

            <!-- Serial No removed as per request -->

            <div class="form-group full-width">
                <label for="name">ЁЯПк ржкрзНрж░рждрж┐рж╖рзНржарж╛ржирзЗрж░ ржирж╛ржо <span class="required">*</span></label>
                <input type="text" name="name" id="name" class="form-control" required value="{{ shop.name or '' }}"
                    placeholder="ржкрзНрж░рждрж┐рж╖рзНржарж╛ржирзЗрж░ ржирж╛ржо рж▓рж┐ржЦрзБржи">
            </div>

            <div class="form-group">
                <label for="proprietor">ЁЯСд ржорж╛рж▓рж┐ржХ</label>
                <input type="text" name="proprietor" id="proprietor" class="form-control"
                    value="{{ shop.proprietor or '' }}" placeholder="ржорж╛рж▓рж┐ржХрзЗрж░ ржирж╛ржо">
            </div>

            <div class="form-group">
                <label for="address">ЁЯУН ржарж┐ржХрж╛ржирж╛</label>
                <input type="text" name="address" id="address" class="form-control" value="{{ shop.address or '' }}"
                    placeholder="ржжрзЛржХрж╛ржирзЗрж░ ржарж┐ржХрж╛ржирж╛">
            </div>

            <div class="form-group">
                <label for="mobile">ЁЯУ▒ ржорзЛржмрж╛ржЗрж▓</label>
                <input type="text" name="mobile" id="mobile" class="form-control" value="{{ shop.mobile or '' }}"
                    placeholder="рзжрззрзнXX-XXXXXX, рзжрззрзоXX-XXXXXX">
            </div>

            <div class="form-group">
                <label for="whatsapp">ЁЯТм рж╣рзЛржпрж╝рж╛ржЯрж╕ржПржк</label>
                <input type="text" name="whatsapp" id="whatsapp" class="form-control" value="{{ shop.whatsapp or '' }}"
                    placeholder="рж╣рзЛржпрж╝рж╛ржЯрж╕ржПржк ржиржорзНржмрж░">
            </div>

            <div class="form-group">
                <label for="transaction_status">ЁЯТ░ ржЕржирж▓рж╛ржЗржи рж▓рзЗржиржжрзЗржи</label>
                <input type="text" name="transaction_status" id="transaction_status" class="form-control"
                    value="{{ shop.transaction_status or '' }}" placeholder="ржмрж┐ржХрзНржпрж╛рж╢ рзжрззрзоXX-XXXXXX">
            </div>

            <div class="form-group">
                <label for="email_web">ЁЯУз ржЗржорзЗржЗрж▓/ржУржпрж╝рзЗржм</label>
                <input type="text" name="email_web" id="email_web" class="form-control"
                    value="{{ shop.email_web or '' }}" placeholder="ржЗржорзЗржЗрж▓ ржмрж╛ ржУржпрж╝рзЗржмрж╕рж╛ржЗржЯ">
            </div>

            <div class="form-group full-width">
                <label for="products">ЁЯУж ржкржгрзНржп рждрж╛рж▓рж┐ржХрж╛</label>
                <textarea name="products" id="products" class="form-control" rows="4"
                    placeholder="ржПржЗ ржжрзЛржХрж╛ржирзЗ ржпрзЗрж╕ржм ржкржгрзНржп ржкрж╛ржУржпрж╝рж╛ ржпрж╛ржпрж╝...">{{ shop.products or '' }}</textarea>
            </div>
        </div>

        <div class="form-actions">
            <button type="submit" class="btn btn-primary btn-lg">
                {% if action == 'add' %}
                тЮХ ржжрзЛржХрж╛ржи ржпрзЛржЧ ржХрж░рзБржи
                {% else %}
                ЁЯТ╛ рж╕ржВрж░ржХрзНрж╖ржг ржХрж░рзБржи
                {% endif %}
            </button>
            <a href="{{ url_for('index') }}" class="btn btn-secondary">ржмрж╛рждрж┐рж▓</a>
        </div>
    </form>
</section>
{% endblock %}